(function(){"use strict";var T=Uint8Array,j=Uint16Array,Ie=Int32Array,pe=new T([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ve=new T([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),be=new T([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Be=function(t,e){for(var r=new j(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new Ie(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},Re=Be(pe,2),Ue=Re.b,ye=Re.r;Ue[28]=258,ye[258]=28;for(var me=Be(ve,0),nt=me.b,Ye=me.r,Ae=new j(32768),N=0;N<32768;++N){var x=(N&43690)>>1|(N&21845)<<1;x=(x&52428)>>2|(x&13107)<<2,x=(x&61680)>>4|(x&3855)<<4,Ae[N]=((x&65280)>>8|(x&255)<<8)>>1}for(var G=(function(t,e,r){for(var n=t.length,i=0,s=new j(e);i<n;++i)t[i]&&++s[t[i]-1];var f=new j(e);for(i=1;i<e;++i)f[i]=f[i-1]+s[i-1]<<1;var u;if(r){u=new j(1<<e);var o=15-e;for(i=0;i<n;++i)if(t[i])for(var a=i<<4|t[i],c=e-t[i],l=f[t[i]-1]++<<c,h=l|(1<<c)-1;l<=h;++l)u[Ae[l]>>o]=a}else for(u=new j(n),i=0;i<n;++i)t[i]&&(u[i]=Ae[f[t[i]-1]++]>>15-t[i]);return u}),D=new T(288),N=0;N<144;++N)D[N]=8;for(var N=144;N<256;++N)D[N]=9;for(var N=256;N<280;++N)D[N]=7;for(var N=280;N<288;++N)D[N]=8;for(var fe=new T(32),N=0;N<32;++N)fe[N]=5;var st=G(D,9,0),it=G(D,9,1),ot=G(fe,5,0),ft=G(fe,5,1),Ce=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Q=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},Oe=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},Se=function(t){return(t+7)/8|0},Pe=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new T(t.subarray(e,r))},at=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],U=function(t,e,r){var n=new Error(e||at[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,U),!r)throw n;return n},lt=function(t,e,r,n){var i=t.length,s=0;if(!i||e.f&&!e.l)return r||new T(0);var f=!r,u=f||e.i!=2,o=e.i;f&&(r=new T(i*3));var a=function(ge){var de=r.length;if(ge>de){var oe=new T(Math.max(de*2,ge));oe.set(r),r=oe}},c=e.f||0,l=e.p||0,h=e.b||0,d=e.l,E=e.d,p=e.m,v=e.n,M=i*8;do{if(!d){c=Q(t,l,1);var S=Q(t,l+1,3);if(l+=3,S)if(S==1)d=it,E=ft,p=9,v=5;else if(S==2){var V=Q(t,l,31)+257,O=Q(t,l+10,15)+4,w=V+Q(t,l+5,31)+1;l+=14;for(var g=new T(w),_=new T(19),P=0;P<O;++P)_[be[P]]=Q(t,l+P*3,7);l+=O*3;for(var B=Ce(_),ee=(1<<B)-1,X=G(_,B,1),P=0;P<w;){var Y=X[Q(t,l,ee)];l+=Y&15;var A=Y>>4;if(A<16)g[P++]=A;else{var $=0,I=0;for(A==16?(I=3+Q(t,l,3),l+=2,$=g[P-1]):A==17?(I=3+Q(t,l,7),l+=3):A==18&&(I=11+Q(t,l,127),l+=7);I--;)g[P++]=$}}var L=g.subarray(0,V),z=g.subarray(V);p=Ce(L),v=Ce(z),d=G(L,p,1),E=G(z,v,1)}else U(1);else{var A=Se(l)+4,C=t[A-4]|t[A-3]<<8,k=A+C;if(k>i){o&&U(0);break}u&&a(h+C),r.set(t.subarray(A,k),h),e.b=h+=C,e.p=l=k*8,e.f=c;continue}if(l>M){o&&U(0);break}}u&&a(h+131072);for(var he=(1<<p)-1,q=(1<<v)-1,H=l;;H=l){var $=d[Oe(t,l)&he],Z=$>>4;if(l+=$&15,l>M){o&&U(0);break}if($||U(2),Z<256)r[h++]=Z;else if(Z==256){H=l,d=null;break}else{var W=Z-254;if(Z>264){var P=Z-257,b=pe[P];W=Q(t,l,(1<<b)-1)+Ue[P],l+=b}var K=E[Oe(t,l)&q],se=K>>4;K||U(3),l+=K&15;var z=nt[se];if(se>3){var b=ve[se];z+=Oe(t,l)&(1<<b)-1,l+=b}if(l>M){o&&U(0);break}u&&a(h+131072);var ie=h+W;if(h<z){var Ne=s-z,Te=Math.min(z,ie);for(Ne+h<0&&U(3);h<Te;++h)r[h]=n[Ne+h]}for(;h<ie;++h)r[h]=r[h-z]}}e.l=d,e.p=H,e.b=h,e.f=c,d&&(c=1,e.m=p,e.d=E,e.n=v)}while(!c);return h!=r.length&&f?Pe(r,0,h):r.subarray(0,h)},J=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},ae=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Me=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:Ze,l:0};if(i==1){var f=new T(r[0].s+1);return f[r[0].s]=1,{t:f,l:1}}r.sort(function(k,V){return k.f-V.f}),r.push({s:-1,f:25001});var u=r[0],o=r[1],a=0,c=1,l=2;for(r[0]={s:-1,f:u.f+o.f,l:u,r:o};c!=i-1;)u=r[r[a].f<r[l].f?a++:l++],o=r[a!=c&&r[a].f<r[l].f?a++:l++],r[c++]={s:-1,f:u.f+o.f,l:u,r:o};for(var h=s[0].s,n=1;n<i;++n)s[n].s>h&&(h=s[n].s);var d=new j(h+1),E=ke(r[c-1],d,0);if(E>e){var n=0,p=0,v=E-e,M=1<<v;for(s.sort(function(V,O){return d[O.s]-d[V.s]||V.f-O.f});n<i;++n){var S=s[n].s;if(d[S]>e)p+=M-(1<<E-d[S]),d[S]=e;else break}for(p>>=v;p>0;){var A=s[n].s;d[A]<e?p-=1<<e-d[A]++-1:++n}for(;n>=0&&p;--n){var C=s[n].s;d[C]==e&&(--d[C],++p)}E=e}return{t:new T(d),l:E}},ke=function(t,e,r){return t.s==-1?Math.max(ke(t.l,e,r+1),ke(t.r,e,r+1)):e[t.s]=r},Le=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new j(++e),n=0,i=t[0],s=1,f=function(o){r[n++]=o},u=1;u<=e;++u)if(t[u]==i&&u!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)f(32754);s>2&&(f(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(f(i),--s;s>6;s-=6)f(8304);s>2&&(f(s-3<<5|8208),s=0)}for(;s--;)f(i);s=1,i=t[u]}return{c:r.subarray(0,n),n:e}},le=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},je=function(t,e,r){var n=r.length,i=Se(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},Xe=function(t,e,r,n,i,s,f,u,o,a,c){J(e,c++,r),++i[256];for(var l=Me(i,15),h=l.t,d=l.l,E=Me(s,15),p=E.t,v=E.l,M=Le(h),S=M.c,A=M.n,C=Le(p),k=C.c,V=C.n,O=new j(19),w=0;w<S.length;++w)++O[S[w]&31];for(var w=0;w<k.length;++w)++O[k[w]&31];for(var g=Me(O,7),_=g.t,P=g.l,B=19;B>4&&!_[be[B-1]];--B);var ee=a+5<<3,X=le(i,D)+le(s,fe)+f,Y=le(i,h)+le(s,p)+f+14+3*B+le(O,_)+2*O[16]+3*O[17]+7*O[18];if(o>=0&&ee<=X&&ee<=Y)return je(e,c,t.subarray(o,o+a));var $,I,L,z;if(J(e,c,1+(Y<X)),c+=2,Y<X){$=G(h,d,0),I=h,L=G(p,v,0),z=p;var he=G(_,P,0);J(e,c,A-257),J(e,c+5,V-1),J(e,c+10,B-4),c+=14;for(var w=0;w<B;++w)J(e,c+3*w,_[be[w]]);c+=3*B;for(var q=[S,k],H=0;H<2;++H)for(var Z=q[H],w=0;w<Z.length;++w){var W=Z[w]&31;J(e,c,he[W]),c+=_[W],W>15&&(J(e,c,Z[w]>>5&127),c+=Z[w]>>12)}}else $=st,I=D,L=ot,z=fe;for(var w=0;w<u;++w){var b=n[w];if(b>255){var W=b>>18&31;ae(e,c,$[W+257]),c+=I[W+257],W>7&&(J(e,c,b>>23&31),c+=pe[W]);var K=b&31;ae(e,c,L[K]),c+=z[K],K>3&&(ae(e,c,b>>5&8191),c+=ve[K])}else ae(e,c,$[b]),c+=I[b]}return ae(e,c,$[256]),c+I[256]},ut=new Ie([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ze=new T(0),ct=function(t,e,r,n,i,s){var f=s.z||t.length,u=new T(n+f+5*(1+Math.ceil(f/7e3))+i),o=u.subarray(n,u.length-i),a=s.l,c=(s.r||0)&7;if(e){c&&(o[0]=s.r>>3);for(var l=ut[e-1],h=l>>13,d=l&8191,E=(1<<r)-1,p=s.p||new j(32768),v=s.h||new j(E+1),M=Math.ceil(r/3),S=2*M,A=function(ze){return(t[ze]^t[ze+1]<<M^t[ze+2]<<S)&E},C=new Ie(25e3),k=new j(288),V=new j(32),O=0,w=0,g=s.i||0,_=0,P=s.w||0,B=0;g+2<f;++g){var ee=A(g),X=g&32767,Y=v[ee];if(p[X]=Y,v[ee]=X,P<=g){var $=f-g;if((O>7e3||_>24576)&&($>423||!a)){c=Xe(t,o,0,C,k,V,w,_,B,g-B,c),_=O=w=0,B=g;for(var I=0;I<286;++I)k[I]=0;for(var I=0;I<30;++I)V[I]=0}var L=2,z=0,he=d,q=X-Y&32767;if($>2&&ee==A(g-q))for(var H=Math.min(h,$)-1,Z=Math.min(32767,g),W=Math.min(258,$);q<=Z&&--he&&X!=Y;){if(t[g+L]==t[g+L-q]){for(var b=0;b<W&&t[g+b]==t[g+b-q];++b);if(b>L){if(L=b,z=q,b>H)break;for(var K=Math.min(q,b-2),se=0,I=0;I<K;++I){var ie=g-q+I&32767,Ne=p[ie],Te=ie-Ne&32767;Te>se&&(se=Te,Y=ie)}}}X=Y,Y=p[X],q+=X-Y&32767}if(z){C[_++]=268435456|ye[L]<<18|Ye[z];var ge=ye[L]&31,de=Ye[z]&31;w+=pe[ge]+ve[de],++k[257+ge],++V[de],P=g+L,++O}else C[_++]=t[g],++k[t[g]]}}for(g=Math.max(g,P);g<f;++g)C[_++]=t[g],++k[t[g]];c=Xe(t,o,a,C,k,V,w,_,B,g-B,c),a||(s.r=c&7|o[c/8|0]<<3,c-=7,s.h=v,s.p=p,s.i=g,s.w=P)}else{for(var g=s.w||0;g<f+a;g+=65535){var oe=g+65535;oe>=f&&(o[c/8|0]=a,oe=f),c=je(o,c+1,t.subarray(g,oe))}s.i=f}return Pe(u,0,n+Se(c)+i)},ht=(function(){for(var t=new Int32Array(256),e=0;e<256;++e){for(var r=e,n=9;--n;)r=(r&1&&-306674912)^r>>>1;t[e]=r}return t})(),gt=function(){var t=-1;return{p:function(e){for(var r=t,n=0;n<e.length;++n)r=ht[r&255^e[n]]^r>>>8;t=r},d:function(){return~t}}},dt=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),f=new T(s.length+t.length);f.set(s),f.set(t,s.length),t=f,i.w=s.length}return ct(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},We=function(t,e){var r={};for(var n in t)r[n]=t[n];for(var n in e)r[n]=e[n];return r},F=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},pt=function(t){(t[0]!=31||t[1]!=139||t[2]!=8)&&U(6,"invalid gzip data");var e=t[3],r=10;e&4&&(r+=(t[10]|t[11]<<8)+2);for(var n=(e>>3&1)+(e>>4&1);n>0;n-=!t[r++]);return r+(e&2)},vt=function(t){var e=t.length;return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0};function wt(t,e){return dt(t,e||{},0,0)}function Et(t,e){var r=pt(t);return r+8>t.length&&U(6,"invalid gzip data"),lt(t.subarray(r,-8),{i:2},new T(vt(t)),e)}var qe=function(t,e,r,n){for(var i in t){var s=t[i],f=e+i,u=n;Array.isArray(s)&&(u=We(n,s[1]),s=s[0]),s instanceof T?r[f]=[s,u]:(r[f+="/"]=[new T(0),u],qe(s,f,r,n))}},Qe=typeof TextEncoder<"u"&&new TextEncoder,Nt=typeof TextDecoder<"u"&&new TextDecoder,Tt=0;try{Nt.decode(Ze,{stream:!0}),Tt=1}catch{}function Ge(t,e){var r;if(Qe)return Qe.encode(t);for(var n=t.length,i=new T(t.length+(t.length>>1)),s=0,f=function(a){i[s++]=a},r=0;r<n;++r){if(s+5>i.length){var u=new T(s+8+(n-r<<1));u.set(i),i=u}var o=t.charCodeAt(r);o<128||e?f(o):o<2048?(f(192|o>>6),f(128|o&63)):o>55295&&o<57344?(o=65536+(o&1047552)|t.charCodeAt(++r)&1023,f(240|o>>18),f(128|o>>12&63),f(128|o>>6&63),f(128|o&63)):(f(224|o>>12),f(128|o>>6&63),f(128|o&63))}return Pe(i,0,s)}var Fe=function(t){var e=0;if(t)for(var r in t){var n=t[r].length;n>65535&&U(9),e+=n+4}return e},Ke=function(t,e,r,n,i,s,f,u){var o=n.length,a=r.extra,c=u&&u.length,l=Fe(a);F(t,e,f!=null?33639248:67324752),e+=4,f!=null&&(t[e++]=20,t[e++]=r.os),t[e]=20,e+=2,t[e++]=r.flag<<1|(s<0&&8),t[e++]=i&&8,t[e++]=r.compression&255,t[e++]=r.compression>>8;var h=new Date(r.mtime==null?Date.now():r.mtime),d=h.getFullYear()-1980;if((d<0||d>119)&&U(10),F(t,e,d<<25|h.getMonth()+1<<21|h.getDate()<<16|h.getHours()<<11|h.getMinutes()<<5|h.getSeconds()>>1),e+=4,s!=-1&&(F(t,e,r.crc),F(t,e+4,s<0?-s-2:s),F(t,e+8,r.size)),F(t,e+12,o),F(t,e+14,l),e+=16,f!=null&&(F(t,e,c),F(t,e+6,r.attrs),F(t,e+10,f),e+=14),t.set(n,e),e+=o,l)for(var E in a){var p=a[E],v=p.length;F(t,e,+E),F(t,e+2,v),t.set(p,e+4),e+=4+v}return c&&(t.set(u,e),e+=c),e},It=function(t,e,r,n,i){F(t,e,101010256),F(t,e+8,r),F(t,e+10,r),F(t,e+12,n),F(t,e+16,i)};function bt(t,e){e||(e={});var r={},n=[];qe(t,"",r,e);var i=0,s=0;for(var f in r){var u=r[f],o=u[0],a=u[1],c=a.level==0?0:8,l=Ge(f),h=l.length,d=a.comment,E=d&&Ge(d),p=E&&E.length,v=Fe(a.extra);h>65535&&U(11);var M=c?wt(o,a):o,S=M.length,A=gt();A.p(o),n.push(We(a,{size:o.length,crc:A.d(),c:M,f:l,m:E,u:h!=f.length||E&&d.length!=p,o:i,compression:c})),i+=30+h+v+S,s+=76+2*(h+v)+(p||0)+S}for(var C=new T(s+22),k=i,V=s-i,O=0;O<n.length;++O){var l=n[O];Ke(C,l.o,l,l.f,l.u,l.c.length);var w=30+l.f.length+Fe(l.extra);C.set(l.c,l.o+w),Ke(C,i,l,l.f,l.u,l.c.length,l.o,l.m),i+=16+w+(l.m?l.m.length:0)}return It(C,i,n.length,V,k),C}function yt(t){let r=0;const n=[];function i(u,o,a){let c="";for(let l=o;l<o+a;l++){const h=u[l];if(!h)break;c+=String.fromCharCode(h)}return c.replace(/\0.*$/s,"")}function s(u,o,a){const c=i(u,o,a).trim();return c&&parseInt(c,8)||0}for(;r+512<=t.length;){let u=!0;for(let p=0;p<512;p++)if(t[r+p]!==0){u=!1;break}if(u)break;const o=i(t,r+0,100),a=s(t,r+124,12),c=i(t,r+156,1)||"0";r+=512;const l=r,h=r+a,d=t.slice(l,h);n.push({name:o,size:a,type:c,uint8Array:d});const E=Math.ceil(a/512)*512;r=l+E}return n.reduce((u,o)=>u.set(o.name,o),new Map)}const Je=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",At=Je+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Ct="["+Je+"]["+At+"]*",Ot=new RegExp("^"+Ct+"$");function He(t,e){const r=[];let n=e.exec(t);for(;n;){const i=[];i.startIndex=e.lastIndex-n[0].length;const s=n.length;for(let f=0;f<s;f++)i.push(n[f]);r.push(i),n=e.exec(t)}return r}const we=function(t){const e=Ot.exec(t);return!(e===null||typeof e>"u")};function St(t){return typeof t<"u"}const Pt={allowBooleanAttributes:!1,unpairedTags:[]};function Mt(t,e){e=Object.assign({},Pt,e);const r=[];let n=!1,i=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let s=0;s<t.length;s++)if(t[s]==="<"&&t[s+1]==="?"){if(s+=2,s=De(t,s),s.err)return s}else if(t[s]==="<"){let f=s;if(s++,t[s]==="!"){s=et(t,s);continue}else{let u=!1;t[s]==="/"&&(u=!0,s++);let o="";for(;s<t.length&&t[s]!==">"&&t[s]!==" "&&t[s]!=="	"&&t[s]!==`
`&&t[s]!=="\r";s++)o+=t[s];if(o=o.trim(),o[o.length-1]==="/"&&(o=o.substring(0,o.length-1),s--),!Rt(o)){let l;return o.trim().length===0?l="Invalid space after '<'.":l="Tag '"+o+"' is an invalid name.",y("InvalidTag",l,R(t,s))}const a=Vt(t,s);if(a===!1)return y("InvalidAttr","Attributes for '"+o+"' have open quote.",R(t,s));let c=a.value;if(s=a.index,c[c.length-1]==="/"){const l=s-c.length;c=c.substring(0,c.length-1);const h=tt(c,e);if(h===!0)n=!0;else return y(h.err.code,h.err.msg,R(t,l+h.err.line))}else if(u)if(a.tagClosed){if(c.trim().length>0)return y("InvalidTag","Closing tag '"+o+"' can't have attributes or invalid starting.",R(t,f));if(r.length===0)return y("InvalidTag","Closing tag '"+o+"' has not been opened.",R(t,f));{const l=r.pop();if(o!==l.tagName){let h=R(t,l.tagStartPos);return y("InvalidTag","Expected closing tag '"+l.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+o+"'.",R(t,f))}r.length==0&&(i=!0)}}else return y("InvalidTag","Closing tag '"+o+"' doesn't have proper closing.",R(t,s));else{const l=tt(c,e);if(l!==!0)return y(l.err.code,l.err.msg,R(t,s-c.length+l.err.line));if(i===!0)return y("InvalidXml","Multiple possible root nodes found.",R(t,s));e.unpairedTags.indexOf(o)!==-1||r.push({tagName:o,tagStartPos:f}),n=!0}for(s++;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="!"){s++,s=et(t,s);continue}else if(t[s+1]==="?"){if(s=De(t,++s),s.err)return s}else break;else if(t[s]==="&"){const l=zt(t,s);if(l==-1)return y("InvalidChar","char '&' is not expected.",R(t,s));s=l}else if(i===!0&&!xe(t[s]))return y("InvalidXml","Extra text at the end",R(t,s));t[s]==="<"&&s--}}else{if(xe(t[s]))continue;return y("InvalidChar","char '"+t[s]+"' is not expected.",R(t,s))}if(n){if(r.length==1)return y("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",R(t,r[0].tagStartPos));if(r.length>0)return y("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return y("InvalidXml","Start tag expected.",1);return!0}function xe(t){return t===" "||t==="	"||t===`
`||t==="\r"}function De(t,e){const r=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){const n=t.substr(r,e-r);if(e>5&&n==="xml")return y("InvalidXml","XML declaration allowed only at the start of the document.",R(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function et(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let r=1;for(e+=8;e<t.length;e++)if(t[e]==="<")r++;else if(t[e]===">"&&(r--,r===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}const kt='"',Ft="'";function Vt(t,e){let r="",n="",i=!1;for(;e<t.length;e++){if(t[e]===kt||t[e]===Ft)n===""?n=t[e]:n!==t[e]||(n="");else if(t[e]===">"&&n===""){i=!0;break}r+=t[e]}return n!==""?!1:{value:r,index:e,tagClosed:i}}const _t=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function tt(t,e){const r=He(t,_t),n={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return y("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",ue(r[i]));if(r[i][3]!==void 0&&r[i][4]===void 0)return y("InvalidAttr","Attribute '"+r[i][2]+"' is without value.",ue(r[i]));if(r[i][3]===void 0&&!e.allowBooleanAttributes)return y("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",ue(r[i]));const s=r[i][2];if(!Bt(s))return y("InvalidAttr","Attribute '"+s+"' is an invalid name.",ue(r[i]));if(!n.hasOwnProperty(s))n[s]=1;else return y("InvalidAttr","Attribute '"+s+"' is repeated.",ue(r[i]))}return!0}function $t(t,e){let r=/\d/;for(t[e]==="x"&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(r))break}return-1}function zt(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,$t(t,e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(t[e]===";")break;return-1}return e}function y(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function Bt(t){return we(t)}function Rt(t){return we(t)}function R(t,e){const r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function ue(t){return t.startIndex+t[1].length}const Ut={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,r){return t},captureMetaData:!1},mt=function(t){return Object.assign({},Ut,t)};let Ee;typeof Symbol!="function"?Ee="@@xmlMetadata":Ee=Symbol("XML Node Metadata");class te{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,r){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:r})}addChild(e,r){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child}),r!==void 0&&(this.child[this.child.length-1][Ee]={startIndex:r})}static getMetaDataSymbol(){return Ee}}class Yt{constructor(e){this.suppressValidationErr=!e}readDocType(e,r){const n={};if(e[r+3]==="O"&&e[r+4]==="C"&&e[r+5]==="T"&&e[r+6]==="Y"&&e[r+7]==="P"&&e[r+8]==="E"){r=r+9;let i=1,s=!1,f=!1,u="";for(;r<e.length;r++)if(e[r]==="<"&&!f){if(s&&re(e,"!ENTITY",r)){r+=7;let o,a;[o,a,r]=this.readEntityExp(e,r+1,this.suppressValidationErr),a.indexOf("&")===-1&&(n[o]={regx:RegExp(`&${o};`,"g"),val:a})}else if(s&&re(e,"!ELEMENT",r)){r+=8;const{index:o}=this.readElementExp(e,r+1);r=o}else if(s&&re(e,"!ATTLIST",r))r+=8;else if(s&&re(e,"!NOTATION",r)){r+=9;const{index:o}=this.readNotationExp(e,r+1,this.suppressValidationErr);r=o}else if(re(e,"!--",r))f=!0;else throw new Error("Invalid DOCTYPE");i++,u=""}else if(e[r]===">"){if(f?e[r-1]==="-"&&e[r-2]==="-"&&(f=!1,i--):i--,i===0)break}else e[r]==="["?s=!0:u+=e[r];if(i!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:r}}readEntityExp(e,r){r=m(e,r);let n="";for(;r<e.length&&!/\s/.test(e[r])&&e[r]!=='"'&&e[r]!=="'";)n+=e[r],r++;if(ce(n),r=m(e,r),!this.suppressValidationErr){if(e.substring(r,r+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[r]==="%")throw new Error("Parameter entities are not supported")}let i="";return[r,i]=this.readIdentifierVal(e,r,"entity"),r--,[n,i,r]}readNotationExp(e,r){r=m(e,r);let n="";for(;r<e.length&&!/\s/.test(e[r]);)n+=e[r],r++;!this.suppressValidationErr&&ce(n),r=m(e,r);const i=e.substring(r,r+6).toUpperCase();if(!this.suppressValidationErr&&i!=="SYSTEM"&&i!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${i}"`);r+=i.length,r=m(e,r);let s=null,f=null;if(i==="PUBLIC")[r,s]=this.readIdentifierVal(e,r,"publicIdentifier"),r=m(e,r),(e[r]==='"'||e[r]==="'")&&([r,f]=this.readIdentifierVal(e,r,"systemIdentifier"));else if(i==="SYSTEM"&&([r,f]=this.readIdentifierVal(e,r,"systemIdentifier"),!this.suppressValidationErr&&!f))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:n,publicIdentifier:s,systemIdentifier:f,index:--r}}readIdentifierVal(e,r,n){let i="";const s=e[r];if(s!=='"'&&s!=="'")throw new Error(`Expected quoted string, found "${s}"`);for(r++;r<e.length&&e[r]!==s;)i+=e[r],r++;if(e[r]!==s)throw new Error(`Unterminated ${n} value`);return r++,[r,i]}readElementExp(e,r){r=m(e,r);let n="";for(;r<e.length&&!/\s/.test(e[r]);)n+=e[r],r++;if(!this.suppressValidationErr&&!we(n))throw new Error(`Invalid element name: "${n}"`);r=m(e,r);let i="";if(e[r]==="E"&&re(e,"MPTY",r))r+=4;else if(e[r]==="A"&&re(e,"NY",r))r+=2;else if(e[r]==="("){for(r++;r<e.length&&e[r]!==")";)i+=e[r],r++;if(e[r]!==")")throw new Error("Unterminated content model")}else if(!this.suppressValidationErr)throw new Error(`Invalid Element Expression, found "${e[r]}"`);return{elementName:n,contentModel:i.trim(),index:r}}readAttlistExp(e,r){r=m(e,r);let n="";for(;r<e.length&&!/\s/.test(e[r]);)n+=e[r],r++;ce(n),r=m(e,r);let i="";for(;r<e.length&&!/\s/.test(e[r]);)i+=e[r],r++;if(!ce(i))throw new Error(`Invalid attribute name: "${i}"`);r=m(e,r);let s="";if(e.substring(r,r+8).toUpperCase()==="NOTATION"){if(s="NOTATION",r+=8,r=m(e,r),e[r]!=="(")throw new Error(`Expected '(', found "${e[r]}"`);r++;let u=[];for(;r<e.length&&e[r]!==")";){let o="";for(;r<e.length&&e[r]!=="|"&&e[r]!==")";)o+=e[r],r++;if(o=o.trim(),!ce(o))throw new Error(`Invalid notation name: "${o}"`);u.push(o),e[r]==="|"&&(r++,r=m(e,r))}if(e[r]!==")")throw new Error("Unterminated list of notations");r++,s+=" ("+u.join("|")+")"}else{for(;r<e.length&&!/\s/.test(e[r]);)s+=e[r],r++;const u=["CDATA","ID","IDREF","IDREFS","ENTITY","ENTITIES","NMTOKEN","NMTOKENS"];if(!this.suppressValidationErr&&!u.includes(s.toUpperCase()))throw new Error(`Invalid attribute type: "${s}"`)}r=m(e,r);let f="";return e.substring(r,r+8).toUpperCase()==="#REQUIRED"?(f="#REQUIRED",r+=8):e.substring(r,r+7).toUpperCase()==="#IMPLIED"?(f="#IMPLIED",r+=7):[r,f]=this.readIdentifierVal(e,r,"ATTLIST"),{elementName:n,attributeName:i,attributeType:s,defaultValue:f,index:r}}}const m=(t,e)=>{for(;e<t.length&&/\s/.test(t[e]);)e++;return e};function re(t,e,r){for(let n=0;n<e.length;n++)if(e[n]!==t[r+n+1])return!1;return!0}function ce(t){if(we(t))return t;throw new Error(`Invalid entity name ${t}`)}const Lt=/^[-+]?0x[a-fA-F0-9]+$/,jt=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,Xt={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Zt(t,e={}){if(e=Object.assign({},Xt,e),!t||typeof t!="string")return t;let r=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(r))return t;if(t==="0")return 0;if(e.hex&&Lt.test(r))return Gt(r,16);if(r.search(/.+[eE].+/)!==-1)return qt(t,r,e);{const n=jt.exec(r);if(n){const i=n[1]||"",s=n[2];let f=Qt(n[3]);const u=i?t[s.length+1]===".":t[s.length]===".";if(!e.leadingZeros&&(s.length>1||s.length===1&&!u))return t;{const o=Number(r),a=String(o);if(o===0)return o;if(a.search(/[eE]/)!==-1)return e.eNotation?o:t;if(r.indexOf(".")!==-1)return a==="0"||a===f||a===`${i}${f}`?o:t;let c=s?f:r;return s?c===a||i+c===a?o:t:c===a||c===i+a?o:t}}else return t}}const Wt=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function qt(t,e,r){if(!r.eNotation)return t;const n=e.match(Wt);if(n){let i=n[1]||"";const s=n[3].indexOf("e")===-1?"E":"e",f=n[2],u=i?t[f.length+1]===s:t[f.length]===s;return f.length>1&&u?t:f.length===1&&(n[3].startsWith(`.${s}`)||n[3][0]===s)?Number(e):r.leadingZeros&&!u?(e=(n[1]||"")+n[3],Number(e)):t}else return t}function Qt(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substring(0,t.length-1))),t}function Gt(t,e){if(parseInt)return parseInt(t,e);if(Number.parseInt)return Number.parseInt(t,e);if(window&&window.parseInt)return window.parseInt(t,e);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}function Kt(t){return typeof t=="function"?t:Array.isArray(t)?e=>{for(const r of t)if(typeof r=="string"&&e===r||r instanceof RegExp&&r.test(e))return!0}:()=>!1}class Jt{constructor(e){if(this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=Ht,this.parseXml=rr,this.parseTextData=xt,this.resolveNameSpace=Dt,this.buildAttributesMap=tr,this.isItStopNode=or,this.replaceEntitiesValue=sr,this.readStopNodeData=ar,this.saveTextToParentTag=ir,this.addChild=nr,this.ignoreAttributesFn=Kt(this.options.ignoreAttributes),this.options.stopNodes&&this.options.stopNodes.length>0){this.stopNodesExact=new Set,this.stopNodesWildcard=new Set;for(let r=0;r<this.options.stopNodes.length;r++){const n=this.options.stopNodes[r];typeof n=="string"&&(n.startsWith("*.")?this.stopNodesWildcard.add(n.substring(2)):this.stopNodesExact.add(n))}}}}function Ht(t){const e=Object.keys(t);for(let r=0;r<e.length;r++){const n=e[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:t[n]}}}function xt(t,e,r,n,i,s,f){if(t!==void 0&&(this.options.trimValues&&!n&&(t=t.trim()),t.length>0)){f||(t=this.replaceEntitiesValue(t));const u=this.options.tagValueProcessor(e,t,r,i,s);return u==null?t:typeof u!=typeof t||u!==t?u:this.options.trimValues?_e(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?_e(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function Dt(t){if(this.options.removeNSPrefix){const e=t.split(":"),r=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=r+e[1])}return t}const er=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function tr(t,e,r){if(this.options.ignoreAttributes!==!0&&typeof t=="string"){const n=He(t,er),i=n.length,s={};for(let f=0;f<i;f++){const u=this.resolveNameSpace(n[f][1]);if(this.ignoreAttributesFn(u,e))continue;let o=n[f][4],a=this.options.attributeNamePrefix+u;if(u.length)if(this.options.transformAttributeName&&(a=this.options.transformAttributeName(a)),a==="__proto__"&&(a="#__proto__"),o!==void 0){this.options.trimValues&&(o=o.trim()),o=this.replaceEntitiesValue(o);const c=this.options.attributeValueProcessor(u,o,e);c==null?s[a]=o:typeof c!=typeof o||c!==o?s[a]=c:s[a]=_e(o,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[a]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const f={};return f[this.options.attributesGroupName]=s,f}return s}}const rr=function(t){t=t.replace(/\r\n?/g,`
`);const e=new te("!xml");let r=e,n="",i="";const s=new Yt(this.options.processEntities);for(let f=0;f<t.length;f++)if(t[f]==="<")if(t[f+1]==="/"){const o=ne(t,">",f,"Closing Tag is not closed.");let a=t.substring(f+2,o).trim();if(this.options.removeNSPrefix){const h=a.indexOf(":");h!==-1&&(a=a.substr(h+1))}this.options.transformTagName&&(a=this.options.transformTagName(a)),r&&(n=this.saveTextToParentTag(n,r,i));const c=i.substring(i.lastIndexOf(".")+1);if(a&&this.options.unpairedTags.indexOf(a)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${a}>`);let l=0;c&&this.options.unpairedTags.indexOf(c)!==-1?(l=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):l=i.lastIndexOf("."),i=i.substring(0,l),r=this.tagsNodeStack.pop(),n="",f=o}else if(t[f+1]==="?"){let o=Ve(t,f,!1,"?>");if(!o)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,i),!(this.options.ignoreDeclaration&&o.tagName==="?xml"||this.options.ignorePiTags)){const a=new te(o.tagName);a.add(this.options.textNodeName,""),o.tagName!==o.tagExp&&o.attrExpPresent&&(a[":@"]=this.buildAttributesMap(o.tagExp,i,o.tagName)),this.addChild(r,a,i,f)}f=o.closeIndex+1}else if(t.substr(f+1,3)==="!--"){const o=ne(t,"-->",f+4,"Comment is not closed.");if(this.options.commentPropName){const a=t.substring(f+4,o-2);n=this.saveTextToParentTag(n,r,i),r.add(this.options.commentPropName,[{[this.options.textNodeName]:a}])}f=o}else if(t.substr(f+1,2)==="!D"){const o=s.readDocType(t,f);this.docTypeEntities=o.entities,f=o.i}else if(t.substr(f+1,2)==="!["){const o=ne(t,"]]>",f,"CDATA is not closed.")-2,a=t.substring(f+9,o);n=this.saveTextToParentTag(n,r,i);let c=this.parseTextData(a,r.tagname,i,!0,!1,!0,!0);c==null&&(c=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:a}]):r.add(this.options.textNodeName,c),f=o+2}else{let o=Ve(t,f,this.options.removeNSPrefix),a=o.tagName;const c=o.rawTagName;let l=o.tagExp,h=o.attrExpPresent,d=o.closeIndex;this.options.transformTagName&&(a=this.options.transformTagName(a)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,i,!1));const E=r;E&&this.options.unpairedTags.indexOf(E.tagname)!==-1&&(r=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),a!==e.tagname&&(i+=i?"."+a:a);const p=f;if(this.isItStopNode(this.stopNodesExact,this.stopNodesWildcard,i,a)){let v="";if(l.length>0&&l.lastIndexOf("/")===l.length-1)a[a.length-1]==="/"?(a=a.substr(0,a.length-1),i=i.substr(0,i.length-1),l=a):l=l.substr(0,l.length-1),f=o.closeIndex;else if(this.options.unpairedTags.indexOf(a)!==-1)f=o.closeIndex;else{const S=this.readStopNodeData(t,c,d+1);if(!S)throw new Error(`Unexpected end of ${c}`);f=S.i,v=S.tagContent}const M=new te(a);a!==l&&h&&(M[":@"]=this.buildAttributesMap(l,i,a)),v&&(v=this.parseTextData(v,a,i,!0,h,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),M.add(this.options.textNodeName,v),this.addChild(r,M,i,p)}else{if(l.length>0&&l.lastIndexOf("/")===l.length-1){a[a.length-1]==="/"?(a=a.substr(0,a.length-1),i=i.substr(0,i.length-1),l=a):l=l.substr(0,l.length-1),this.options.transformTagName&&(a=this.options.transformTagName(a));const v=new te(a);a!==l&&h&&(v[":@"]=this.buildAttributesMap(l,i,a)),this.addChild(r,v,i,p),i=i.substr(0,i.lastIndexOf("."))}else{const v=new te(a);this.tagsNodeStack.push(r),a!==l&&h&&(v[":@"]=this.buildAttributesMap(l,i,a)),this.addChild(r,v,i,p),r=v}n="",f=d}}else n+=t[f];return e.child};function nr(t,e,r,n){this.options.captureMetaData||(n=void 0);const i=this.options.updateTag(e.tagname,r,e[":@"]);i===!1||(typeof i=="string"&&(e.tagname=i),t.addChild(e,n))}const sr=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){const r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){const r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function ir(t,e,r,n){return t&&(n===void 0&&(n=e.child.length===0),t=this.parseTextData(t,e.tagname,r,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,n),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function or(t,e,r,n){return!!(e&&e.has(n)||t&&t.has(r))}function fr(t,e,r=">"){let n,i="";for(let s=e;s<t.length;s++){let f=t[s];if(n)f===n&&(n="");else if(f==='"'||f==="'")n=f;else if(f===r[0])if(r[1]){if(t[s+1]===r[1])return{data:i,index:s}}else return{data:i,index:s};else f==="	"&&(f=" ");i+=f}}function ne(t,e,r,n){const i=t.indexOf(e,r);if(i===-1)throw new Error(n);return i+e.length-1}function Ve(t,e,r,n=">"){const i=fr(t,e+1,n);if(!i)return;let s=i.data;const f=i.index,u=s.search(/\s/);let o=s,a=!0;u!==-1&&(o=s.substring(0,u),s=s.substring(u+1).trimStart());const c=o;if(r){const l=o.indexOf(":");l!==-1&&(o=o.substr(l+1),a=o!==i.data.substr(l+1))}return{tagName:o,tagExp:s,closeIndex:f,attrExpPresent:a,rawTagName:c}}function ar(t,e,r){const n=r;let i=1;for(;r<t.length;r++)if(t[r]==="<")if(t[r+1]==="/"){const s=ne(t,">",r,`${e} is not closed`);if(t.substring(r+2,s).trim()===e&&(i--,i===0))return{tagContent:t.substring(n,r),i:s};r=s}else if(t[r+1]==="?")r=ne(t,"?>",r+1,"StopNode is not closed.");else if(t.substr(r+1,3)==="!--")r=ne(t,"-->",r+3,"StopNode is not closed.");else if(t.substr(r+1,2)==="![")r=ne(t,"]]>",r,"StopNode is not closed.")-2;else{const s=Ve(t,r,">");s&&((s&&s.tagName)===e&&s.tagExp[s.tagExp.length-1]!=="/"&&i++,r=s.closeIndex)}}function _e(t,e,r){if(e&&typeof t=="string"){const n=t.trim();return n==="true"?!0:n==="false"?!1:Zt(t,r)}else return St(t)?t:""}const $e=te.getMetaDataSymbol();function lr(t,e){return rt(t,e)}function rt(t,e,r){let n;const i={};for(let s=0;s<t.length;s++){const f=t[s],u=ur(f);let o="";if(r===void 0?o=u:o=r+"."+u,u===e.textNodeName)n===void 0?n=f[u]:n+=""+f[u];else{if(u===void 0)continue;if(f[u]){let a=rt(f[u],e,o);const c=hr(a,e);f[$e]!==void 0&&(a[$e]=f[$e]),f[":@"]?cr(a,f[":@"],o,e):Object.keys(a).length===1&&a[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?a=a[e.textNodeName]:Object.keys(a).length===0&&(e.alwaysCreateTextNode?a[e.textNodeName]="":a=""),i[u]!==void 0&&i.hasOwnProperty(u)?(Array.isArray(i[u])||(i[u]=[i[u]]),i[u].push(a)):e.isArray(u,o,c)?i[u]=[a]:i[u]=a}}}return typeof n=="string"?n.length>0&&(i[e.textNodeName]=n):n!==void 0&&(i[e.textNodeName]=n),i}function ur(t){const e=Object.keys(t);for(let r=0;r<e.length;r++){const n=e[r];if(n!==":@")return n}}function cr(t,e,r,n){if(e){const i=Object.keys(e),s=i.length;for(let f=0;f<s;f++){const u=i[f];n.isArray(u,r+"."+u,!0,!0)?t[u]=[e[u]]:t[u]=e[u]}}}function hr(t,e){const{textNodeName:r}=e,n=Object.keys(t).length;return!!(n===0||n===1&&(t[r]||typeof t[r]=="boolean"||t[r]===0))}class gr{constructor(e){this.externalEntities={},this.options=mt(e)}parse(e,r){if(typeof e!="string"&&e.toString)e=e.toString();else if(typeof e!="string")throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});const s=Mt(e,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}const n=new Jt(this.options);n.addExternalEntities(this.externalEntities);const i=n.parseXml(e);return this.options.preserveOrder||i===void 0?i:lr(i,this.options)}addEntity(e,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=r}static getMetaDataSymbol(){return te.getMetaDataSymbol()}}function dr(t){const e=t.get("files.xml");if(!e)return null;const n=new gr().parse(new TextDecoder().decode(e.uint8Array)),i={},s=n.files.file;for(const{contenthash:u,filename:o,filesize:a}of s)if(a){const c=t.get(`files/${u.slice(0,2)}/${u}`);c&&(i[o]=c.uint8Array)}return bt(i)}self.onmessage=t=>{const{func:e,param:r}=t.data;if(e==="gunzip"){const n=Et(r);postMessage(n)}else if(e==="parseTar"){const n=yt(r);postMessage(n)}else if(e==="generateZip"){const n=dr(r);postMessage(n)}}})();
